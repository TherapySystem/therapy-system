<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/general.css">
    <link rel="stylesheet" href="/css/utilities.css">
    <link rel="stylesheet" href="/css/admin/general.css">
    <link rel="stylesheet" href="/css/admin/sidebar.css">
    <link rel="stylesheet" href="/css/admin/reports.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels"></script>
    <title>Admin - Children</title>
    <style>
    </style>
</head>
<body>
    <div class="sidebar">
        <div class="brand-section">
            <img src="/images/logo.png" alt="Thera-able Occupational Therapy Centre">
            <div class="brand">
                <h4>Thera-able Occupational Therapy Centre</h4>
            </div>
        </div>
        <div class="menu">
            <!-- <div id="admin-menu-home" class="menu-item">
                <svg width="100%" height="100%" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="fill: none">
                    <path d="M5.77778 10.2222V18C5.77778 19.1046 6.67321 20 7.77778 20H12M5.77778 10.2222L11.2929 4.70711C11.6834 4.31658 12.3166 4.31658 12.7071 4.70711L17.5 9.5M5.77778 10.2222L4 12M18.2222 10.2222V18C18.2222 19.1046 17.3268 20 16.2222 20H12M18.2222 10.2222L20 12M18.2222 10.2222L17.5 9.5M17.5 9.5V6M12 20V15" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                <h4>Home</h4>
            </div> -->
            <div id="admin-menu-children" class="menu-item">
                <svg fill="#fff" width="100%" height="100%" viewBox="0 0 32 32" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;" version="1.1" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:serif="http://www.serif.com/" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M9.731,14.075c-1.387,0.252 -2.676,0.921 -3.687,1.932c-1.309,1.309 -2.044,3.084 -2.044,4.935l0,4.039c0,1.657 1.343,3 3,3c4.184,-0 13.816,-0 18,-0c1.657,-0 3,-1.343 3,-3l0,-4.039c0,-1.851 -0.735,-3.626 -2.044,-4.935c-1.011,-1.011 -2.3,-1.68 -3.687,-1.932c0.468,-0.939 0.731,-1.997 0.731,-3.117c0,-3.863 -3.137,-7 -7,-7c-3.863,0 -7,3.137 -7,7c0,1.12 0.263,2.178 0.731,3.117Zm11.169,1.88c-1.262,1.239 -2.993,2.003 -4.9,2.003c-1.907,0 -3.638,-0.764 -4.9,-2.003c-0.04,0.005 -0.08,0.007 -0.12,0.007c-1.321,0 -2.588,0.525 -3.521,1.459c-0.934,0.934 -1.459,2.201 -1.459,3.521c0,0 0,4.039 0,4.039c0,0.552 0.448,1 1,1l18,-0c0.552,-0 1,-0.448 1,-1c-0,-0 0,-4.039 0,-4.039c0,-1.32 -0.525,-2.587 -1.459,-3.521c-0.933,-0.934 -2.2,-1.459 -3.521,-1.459c-0.04,0 -0.08,-0.002 -0.12,-0.007Zm-4.9,-9.997c2.76,0 5,2.241 5,5c0,2.76 -2.24,5 -5,5c-2.76,0 -5,-2.24 -5,-5c0,-2.759 2.24,-5 5,-5Z"/><path d="M20,20.008l-1,-0c-0.552,-0 -1,0.448 -1,1c-0,0.552 0.448,1 1,1l1,-0l0,1c-0,0.552 0.448,1 1,1c0.552,-0 1,-0.448 1,-1l0,-1l1,-0c0.552,-0 1,-0.448 1,-1c-0,-0.552 -0.448,-1 -1,-1l-1,-0l0,-1c-0,-0.552 -0.448,-1 -1,-1c-0.552,-0 -1,0.448 -1,1l0,1Z"/></svg>
                <h4>Children</h4>
            </div>
            <div id="admin-menu-users" class="menu-item">
                <svg width="100%" height="100%" viewBox="0 0 24 24" id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg"><defs><style>.cls-1{fill:none;stroke-miterlimit:10;stroke-width:1.91px;}</style></defs><circle class="cls-1" cx="9.61" cy="7.73" r="4.3"/><path class="cls-1" d="M1.5,21.57l.69-3.46A7.58,7.58,0,0,1,9.61,12h0A7.56,7.56,0,0,1,17,18.11l.7,3.46"/>
                    <path class="cls-1" d="M12,11.3a4.3,4.3,0,1,0,0-7.14"/>
                    <path class="cls-1" d="M22.5,21.57l-.7-3.47A7.55,7.55,0,0,0,12,12.41"/>
                </svg>
                <h4>Users</h4>
            </div>
            <div id="admin-menu-payroll" class="menu-item">
                <svg width="800px" height="800px" viewBox="-0.5 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path fill="none" d="M12.7003 17.1099V18.22C12.7003 18.308 12.6829 18.395 12.6492 18.4763C12.6156 18.5576 12.5662 18.6316 12.504 18.6938C12.4418 18.7561 12.3679 18.8052 12.2867 18.8389C12.2054 18.8725 12.1182 18.8899 12.0302 18.8899C11.9423 18.8899 11.8551 18.8725 11.7738 18.8389C11.6925 18.8052 11.6187 18.7561 11.5565 18.6938C11.4943 18.6316 11.4449 18.5576 11.4113 18.4763C11.3776 18.395 11.3602 18.308 11.3602 18.22V17.0801C10.9165 17.0072 10.4917 16.8468 10.1106 16.6082C9.72943 16.3695 9.39958 16.0573 9.14023 15.6899C9.04577 15.57 8.99311 15.4226 8.99023 15.27C8.99148 15.1842 9.00997 15.0995 9.04459 15.021C9.0792 14.9425 9.12927 14.8718 9.19177 14.813C9.25428 14.7542 9.32794 14.7087 9.40842 14.679C9.4889 14.6492 9.57455 14.6359 9.66025 14.6399C9.74504 14.6401 9.82883 14.6582 9.90631 14.6926C9.98379 14.7271 10.0532 14.7773 10.1102 14.8401C10.4326 15.2576 10.8657 15.5763 11.3602 15.76V13.21C10.0302 12.69 9.36023 11.9099 9.36023 10.8999C9.38027 10.3592 9.5928 9.84343 9.9595 9.44556C10.3262 9.04769 10.8229 8.79397 11.3602 8.72998V7.62988C11.3602 7.5419 11.3776 7.45482 11.4113 7.37354C11.4449 7.29225 11.4943 7.21847 11.5565 7.15625C11.6187 7.09403 11.6925 7.04466 11.7738 7.01099C11.8551 6.97732 11.9423 6.95996 12.0302 6.95996C12.1182 6.95996 12.2054 6.97732 12.2867 7.01099C12.3679 7.04466 12.4418 7.09403 12.504 7.15625C12.5662 7.21847 12.6156 7.29225 12.6492 7.37354C12.6829 7.45482 12.7003 7.5419 12.7003 7.62988V8.71997C13.0724 8.77828 13.4289 8.91103 13.7485 9.11035C14.0681 9.30967 14.3442 9.57137 14.5602 9.87988C14.6555 9.99235 14.7117 10.1329 14.7202 10.28C14.7229 10.3662 14.7084 10.4519 14.6776 10.5325C14.6467 10.613 14.6002 10.6867 14.5406 10.749C14.481 10.8114 14.4096 10.8613 14.3306 10.8958C14.2516 10.9303 14.1665 10.9487 14.0802 10.95C13.99 10.9475 13.9013 10.9257 13.8202 10.886C13.7391 10.8463 13.6675 10.7897 13.6102 10.72C13.3718 10.4221 13.0575 10.1942 12.7003 10.0601V12.3101L12.9503 12.4099C14.2203 12.9099 15.0103 13.63 15.0103 14.77C14.9954 15.3808 14.7481 15.9629 14.3189 16.3977C13.8897 16.8325 13.3108 17.0871 12.7003 17.1099ZM11.3602 11.73V10.0999C11.1988 10.1584 11.0599 10.2662 10.963 10.408C10.8662 10.5497 10.8162 10.7183 10.8203 10.8899C10.8173 11.0676 10.8669 11.2424 10.963 11.3918C11.0591 11.5413 11.1973 11.6589 11.3602 11.73ZM13.5502 14.8C13.5502 14.32 13.2203 14.03 12.7003 13.8V15.8C12.9387 15.7639 13.1561 15.6427 13.3123 15.459C13.4685 15.2752 13.553 15.0412 13.5502 14.8Z"/>
                    <path fill="none" d="M18 3.96997H6C4.93913 3.96997 3.92172 4.39146 3.17157 5.1416C2.42142 5.89175 2 6.9091 2 7.96997V17.97C2 19.0308 2.42142 20.0482 3.17157 20.7983C3.92172 21.5485 4.93913 21.97 6 21.97H18C19.0609 21.97 20.0783 21.5485 20.8284 20.7983C21.5786 20.0482 22 19.0308 22 17.97V7.96997C22 6.9091 21.5786 5.89175 20.8284 5.1416C20.0783 4.39146 19.0609 3.96997 18 3.96997Z" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                <h4>Payroll & Attendance</h4>
            </div>
            <div id="admin-menu-reports" class="menu-item active-menu-item">
                <svg xmlns="http://www.w3.org/2000/svg" fill="#000000" width="100%" height="100%" viewBox="0 0 36 36">
                    <rect x="6.48" y="18" width="5.76" height="11.52" rx="1" ry="1"/>
                    <rect x="15.12" y="6.48" width="5.76" height="23.04" rx="1" ry="1"/>
                    <rect x="23.76" y="14.16" width="5.76" height="15.36" rx="1" ry="1"/>
                </svg>
                <h4>Reports</h4>
            </div>
            <div id="admin-announcements" class="menu-item">
                <svg width="100%" height="100%" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path fill="none" d="M4 13.9999L5.57465 20.2985C5.61893 20.4756 5.64107 20.5642 5.66727 20.6415C5.92317 21.397 6.60352 21.9282 7.39852 21.9933C7.4799 21.9999 7.5712 21.9999 7.75379 21.9999C7.98244 21.9999 8.09677 21.9999 8.19308 21.9906C9.145 21.8982 9.89834 21.1449 9.99066 20.193C10 20.0967 10 19.9823 10 19.7537V5.49991M18.5 13.4999C20.433 13.4999 22 11.9329 22 9.99991C22 8.06691 20.433 6.49991 18.5 6.49991M10.25 5.49991H6.5C4.01472 5.49991 2 7.51463 2 9.99991C2 12.4852 4.01472 14.4999 6.5 14.4999H10.25C12.0164 14.4999 14.1772 15.4468 15.8443 16.3556C16.8168 16.8857 17.3031 17.1508 17.6216 17.1118C17.9169 17.0756 18.1402 16.943 18.3133 16.701C18.5 16.4401 18.5 15.9179 18.5 14.8736V5.1262C18.5 4.08191 18.5 3.55976 18.3133 3.2988C18.1402 3.05681 17.9169 2.92421 17.6216 2.88804C17.3031 2.84903 16.8168 3.11411 15.8443 3.64427C14.1772 4.55302 12.0164 5.49991 10.25 5.49991Z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                <h4>Announcements</h4>
            </div>
            <div id="admin-menu-logout" class="menu-item">
                <svg width="100%" height="100%" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path d="M14.9453 1.25C13.5778 1.24998 12.4754 1.24996 11.6085 1.36652C10.7084 1.48754 9.95048 1.74643 9.34857 2.34835C8.82363 2.87328 8.55839 3.51836 8.41916 4.27635C8.28387 5.01291 8.25799 5.9143 8.25196 6.99583C8.24966 7.41003 8.58357 7.74768 8.99778 7.74999C9.41199 7.7523 9.74964 7.41838 9.75194 7.00418C9.75803 5.91068 9.78643 5.1356 9.89448 4.54735C9.99859 3.98054 10.1658 3.65246 10.4092 3.40901C10.686 3.13225 11.0746 2.9518 11.8083 2.85315C12.5637 2.75159 13.5648 2.75 15.0002 2.75H16.0002C17.4356 2.75 18.4367 2.75159 19.1921 2.85315C19.9259 2.9518 20.3144 3.13225 20.5912 3.40901C20.868 3.68577 21.0484 4.07435 21.1471 4.80812C21.2486 5.56347 21.2502 6.56459 21.2502 8V16C21.2502 17.4354 21.2486 18.4365 21.1471 19.1919C21.0484 19.9257 20.868 20.3142 20.5912 20.591C20.3144 20.8678 19.9259 21.0482 19.1921 21.1469C18.4367 21.2484 17.4356 21.25 16.0002 21.25H15.0002C13.5648 21.25 12.5637 21.2484 11.8083 21.1469C11.0746 21.0482 10.686 20.8678 10.4092 20.591C10.1658 20.3475 9.99859 20.0195 9.89448 19.4527C9.78643 18.8644 9.75803 18.0893 9.75194 16.9958C9.74964 16.5816 9.41199 16.2477 8.99778 16.25C8.58357 16.2523 8.24966 16.59 8.25196 17.0042C8.25799 18.0857 8.28387 18.9871 8.41916 19.7236C8.55839 20.4816 8.82363 21.1267 9.34857 21.6517C9.95048 22.2536 10.7084 22.5125 11.6085 22.6335C12.4754 22.75 13.5778 22.75 14.9453 22.75H16.0551C17.4227 22.75 18.525 22.75 19.392 22.6335C20.2921 22.5125 21.0499 22.2536 21.6519 21.6517C22.2538 21.0497 22.5127 20.2919 22.6337 19.3918C22.7503 18.5248 22.7502 17.4225 22.7502 16.0549V7.94513C22.7502 6.57754 22.7503 5.47522 22.6337 4.60825C22.5127 3.70814 22.2538 2.95027 21.6519 2.34835C21.0499 1.74643 20.2921 1.48754 19.392 1.36652C18.525 1.24996 17.4227 1.24998 16.0551 1.25H14.9453Z"/>
                    <path d="M15 11.25C15.4142 11.25 15.75 11.5858 15.75 12C15.75 12.4142 15.4142 12.75 15 12.75H4.02744L5.98809 14.4306C6.30259 14.7001 6.33901 15.1736 6.06944 15.4881C5.79988 15.8026 5.3264 15.839 5.01191 15.5694L1.51191 12.5694C1.34567 12.427 1.25 12.2189 1.25 12C1.25 11.7811 1.34567 11.573 1.51191 11.4306L5.01191 8.43056C5.3264 8.16099 5.79988 8.19741 6.06944 8.51191C6.33901 8.8264 6.30259 9.29988 5.98809 9.56944L4.02744 11.25H15Z"/>
                </svg>
                <h4>Logout</h4>
            </div>
        </div>
    </div>
    <div class="main-section">
        <div class="header-section">
            <h2>Reports</h2>

            <div class="option">
                <button id="generatePDF">Generate Reports</button>
            </div>

            <div class="report-headers">
            </div>
            <div class="canvases">
                <canvas id="salesChart"></canvas>
                <canvas id="enrolleesChart"></canvas>
                <canvas id="servicesChart"></canvas>
            </div>
        </div>
        
        <div id="print-section" class="print-section print-section-margin" style="display: none;">
            <div class="print-header">
                <img src="/images/logo.png" alt="Thera-able Occupational Therapy Centre">
                <div class="print-header-info">
                    <h2>Thera-able Occupational Therapy Centre</h2>
                    <h3>Waka Building A57 Techno Park, Brgy. Don Martin Marunduan, Mati, Philippines</h3>
                </div>
            </div>
            <div class="print-summary">
                <h3>Reports Summary</h3>
                <h4 id="summary-date" class="summary-date">From January to May 2025</h4>
                <div class="report-table">

                    <span id="report-enrollee-header">
                        <div class="header-with-gender">
                            <div class="category-header">
                                <h4>Enrollees Summary</h4>
                            </div>
                            <div class="count-header">
                                <div class="count-title">
                                    <h4>Count</h4>
                                </div>
                                <div class="gender-header">
                                    <div class="male-header">
                                        <h4>Male</h4>
                                    </div>
                                    <div class="female-header">
                                        <h4>Female</h4>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </span>

                    <span id="report-enrollee">
                        <div class="data-with-gender">
                            <div class="data-title">
                                <h5>Enrolled Children</h5>
                            </div>
                            <div class="data-gender-count">
                                <div class="count">
                                    <h5 id="enrolled-male">5 enrollees</h5>
                                </div>
                                <div class="count">
                                    <h5 id="enrolled-female">10 enrollees</h5>
                                </div>
                            </div>
                        </div>
                    </span>

                    <span id="rejected-enrollee">
                        <div class="data-with-gender">
                            <div class="data-title">
                                <h5>Pending Enrollees</h5>
                            </div>
                            <div class="data-gender-count">
                                <div class="count">
                                    <h5 id="rejected-male">5 enrollees</h5>
                                </div>
                                <div class="count">
                                    <h5 id="rejected-female">10 enrollees</h5>
                                </div>
                            </div>
                        </div>
                    </span>

                    <span id="report-services-header">
                        <div class="header-with-gender">
                            <div class="category-header">
                                <h4>Availed Services by Gender</h4>
                            </div>
                            <div class="count-header">
                                <div class="count-title">
                                    <h4>Count</h4>
                                </div>
                                <div class="gender-header">
                                    <div class="male-header">
                                        <h4>Male</h4>
                                    </div>
                                    <div class="female-header">
                                        <h4>Female</h4>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="data-with-gender">
                            <div class="data-title">
                                <h5>Speech Therapy</h5>
                            </div>
                            <div class="data-gender-count">
                                <div class="count">
                                    <h5 id="speech-male">5 children/s</h5>
                                </div>
                                <div class="count">
                                    <h5 id="speech-female">10 children/s</h5>
                                </div>
                            </div>
                        </div>
                        <div class="data-with-gender">
                            <div class="data-title">
                                <h5>Occupational Therapy</h5>
                            </div>
                            <div class="data-gender-count">
                                <div class="count">
                                    <h5 id="occupational-male">5 children/s</h5>
                                </div>
                                <div class="count">
                                    <h5 id="occupational-female">10 children/s</h5>
                                </div>
                            </div>
                        </div>
                        <div class="data-with-gender">
                            <div class="data-title">
                                <h5>Developmental Class</h5>
                            </div>
                            <div class="data-gender-count">
                                <div class="count">
                                    <h5 id="developmental-male">5 children/s</h5>
                                </div>
                                <div class="count">
                                    <h5 id="developmental-female">10 children/s</h5>
                                </div>
                            </div>
                        </div>
                        <div class="data-with-gender">
                            <div class="data-title">
                                <h5>Shadow Class</h5>
                            </div>
                            <div class="data-gender-count">
                                <div class="count">
                                    <h5 id="shadow-male">5 children/s</h5>
                                </div>
                                <div class="count">
                                    <h5 id="shadow-female">10 children/s</h5>
                                </div>
                            </div>
                        </div>
                    </span>

                    <span id="report-sales">
                        <div class="header-only">
                            <h4>Sales Report</h4>
                        </div>
                        <div class="data-and-count">
                            <div class="data-title">
                                <h5>Total Billing Sales</h5>
                            </div>
                            <div class="count">
                                <h5 id="total-sales">10, 000</h5>
                            </div>
                        </div>
                    </span>

                </div>
            </div>
        </div>
    </div>

    <div id="modal" class="modal">
        <div class="modal-content">
            <span id="close-modal" class="close">&times;</span>
            <h3>Generate Report</h3>
            <h4>Select Content</h4>
            <div class="check-choices">
                <div class="input-container" style="margin-right: 10px;">
                    <input type="checkbox" id="cb_Enrollees" name="Enrollees" placeholder=" " checked>
                    <label for="Enrollees">Enrollees</label>
                </div>
                <div class="input-container" style="margin-right: 10px;">
                    <input type="checkbox" id="cb_RejectedEnrollees" name="RejectedEnrollees" placeholder=" " checked>
                    <label for="RejectedEnrollees">Pending Enrollees</label>
                </div>
                <div class="input-container" style="margin-right: 10px;">
                    <input type="checkbox" id="cb_ServicesGender" name="ServicesGender" placeholder=" " checked>
                    <label for="ServicesGender">Services availed by gender</label>
                </div>
                <div class="input-container" style="margin-right: 10px;">
                    <input type="checkbox" id="cb_Sales" name="Sales" placeholder=" " checked>
                    <label for="Sales">Sales</label>
                </div>
            </div>
            <h4>Select Month</h4>
            <div class="input-container">
                <label for="fromMonth">From: </label>
                <select id="fromMonth" name="fromMonth">
                    <option value="Jan">Jan</option>
                    <option value="Feb">Feb</option>
                    <option value="Mar">Mar</option>
                    <option value="Apr">Apr</option>
                    <option value="May">May</option>
                    <option value="Jun">Jun</option>
                    <option value="Jul">Jul</option>
                    <option value="Aug">Aug</option>
                    <option value="Sep">Sep</option>
                    <option value="Oct">Oct</option>
                    <option value="Nov">Nov</option>
                    <option value="Dec">Dec</option>
                </select>
                <select id="yearFrom">
                    <option value="2024">2024</option>
                    <option value="2025">2025</option>
                    <option value="2026">2026</option>
                    <option value="2027">2027</option>
                    <option value="2028">2028</option>
                    <option value="2029">2029</option>
                    <option value="2030">2030</option>
                </select>
            </div>
            <div class="input-container">
                <label for="toMonth">To: </label>
                <select id="toMonth" name="toMonth">
                    <option value="Jan">Jan</option>
                    <option value="Feb">Feb</option>
                    <option value="Mar">Mar</option>
                    <option value="Apr">Apr</option>
                    <option value="May">May</option>
                    <option value="Jun">Jun</option>
                    <option value="Jul">Jul</option>
                    <option value="Aug">Aug</option>
                    <option value="Sep">Sep</option>
                    <option value="Oct">Oct</option>
                    <option value="Nov">Nov</option>
                    <option value="Dec">Dec</option>
                </select>
                <select id="yearTo">
                    <option value="2024">2024</option>
                    <option value="2025">2025</option>
                    <option value="2026">2026</option>
                    <option value="2027">2027</option>
                    <option value="2028">2028</option>
                    <option value="2029">2029</option>
                    <option value="2030">2030</option>
                </select>
            </div>
            <button id="confirm-button" style="margin-top: 20px;">Generate Report</button>
        </div>
    </div>

    <script>
        const modalWindow = document.getElementById('modal');
        const closeModal = document.getElementById('close-modal');
        const confirmButton = document.getElementById('confirm-button');

        const setupReport = async () => {
            // All holders
            showLoadingScreen("Generating reports...");
            const summaryDate = document.getElementById('summary-date');

            const enrolleeHeader = document.getElementById('report-enrollee-header');

            const reportEnrollee = document.getElementById('report-enrollee');
            const enrolledMale = document.getElementById('enrolled-male');
            const enrolledFemale = document.getElementById('enrolled-female');

            const rejectedEnrollee = document.getElementById('rejected-enrollee');
            const rejectedMale = document.getElementById('rejected-male');
            const rejectedFemale = document.getElementById('rejected-female');

            const reportServicesHeader = document.getElementById('report-services-header');

            const speechMale = document.getElementById('speech-male');
            const speechFemale = document.getElementById('speech-female');

            const occupationalMale = document.getElementById('occupational-male');
            const occupationalFemale = document.getElementById('occupational-female');

            const developmentalMale = document.getElementById('developmental-male');
            const developmentalFemale = document.getElementById('developmental-female');

            const shadowMale = document.getElementById('shadow-male');
            const shadowFemale = document.getElementById('shadow-female');

            const reportSales = document.getElementById('report-sales');
            const totalSales = document.getElementById('total-sales');

            // hide displays
            enrolleeHeader.style.display = 'none';
            reportEnrollee.style.display = 'none';
            rejectedEnrollee.style.display = 'none';

            reportServicesHeader.style.display = 'none';

            reportSales.style.display = 'none';

            // Checkboxes
            const cb_enrollees = document.getElementById('cb_Enrollees').checked;
            const cb_rejectedEnrollees = document.getElementById('cb_RejectedEnrollees').checked;
            const cb_servicesGender = document.getElementById('cb_ServicesGender').checked;
            const cb_sales = document.getElementById('cb_Sales').checked;

            // display base on checkbox
            if (cb_enrollees) {
                enrolleeHeader.style.display = 'block';
                reportEnrollee.style.display = 'block';
            }

            if (cb_rejectedEnrollees) {
                enrolleeHeader.style.display = 'block';
                rejectedEnrollee.style.display = 'block';
            }

            if (cb_servicesGender) {
                reportServicesHeader.style.display = 'block';
            }

            if (cb_sales) {
                reportSales.style.display = 'block';
            }
            
            const fromMonth = document.getElementById('fromMonth').value;
            const fromYear = document.getElementById('yearFrom').value;
            const toMonth = document.getElementById('toMonth').value;
            const toYear = document.getElementById('yearTo').value;

            const fetchReports = await fetch('/get-summary-report', {
                method: 'PUT',
                credentials: 'include',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    fromDate: `${ fromMonth } ${ fromYear }`,
                    toDate: `${ toMonth } ${ toYear }`
                })
            });

            const summaryReports = await fetchReports.json();
            const summaryReport = summaryReports.summaryReport;

            const dateRange = `From ${ fromMonth } ${ fromYear } to ${ toMonth } ${ toYear }`;

            document.getElementById('summary-date').innerText = dateRange;

            document.getElementById('enrolled-male').innerText = summaryReport.enrolledMale + ' children/s';
            document.getElementById('enrolled-female').innerText = summaryReport.enrolledFemale + ' children/s';

            document.getElementById('rejected-male').innerText = summaryReport.pendingMale + ' children/s';
            document.getElementById('rejected-female').innerText = summaryReport.pendingFemale + ' children/s';

            document.getElementById('speech-male').innerText = summaryReport.speechMale + ' children/s';
            document.getElementById('speech-female').innerText = summaryReport.speechFemale + ' children/s';

            document.getElementById('occupational-male').innerText = summaryReport.occupationalMale + ' children/s';
            document.getElementById('occupational-female').innerText = summaryReport.occupationalFemale + ' children/s';

            document.getElementById('developmental-male').innerText = summaryReport.developmentalMale + ' children/s';
            document.getElementById('developmental-female').innerText = summaryReport.developmentalFemale + ' children/s';

            document.getElementById('shadow-male').innerText = summaryReport.shadowMale + ' children/s';
            document.getElementById('shadow-female').innerText = summaryReport.shadowFemale + ' children/s';

            document.getElementById('total-sales').innerText = `â‚± ${ summaryReport.totalSales }`;

        }

        confirmButton.addEventListener('click', async () => {
            await setupReport();

            const printSection = document.getElementById('print-section');

            printSection.classList.remove('print-section-margin');

            const printContents = printSection.innerHTML;
            const originalContents = document.body.innerHTML;

            document.body.classList.add('print-section');
            document.body.innerHTML = printContents;
            window.print();
            document.body.classList.remove('print-section');
            document.body.innerHTML = originalContents;
            location.reload();
        });

        document.getElementById('generatePDF').addEventListener('click', function() {
            // window.print();
            modalWindow.style.display = 'block';
        });

        closeModal.addEventListener('click', () => {
            modalWindow.style.display = 'none';
        });
    </script>

    <script>
        // Register the data labels plugin
        Chart.register(ChartDataLabels);

        fetch('/get-chart-reports')
        .then(response => response.json())
        .then(data => {
            var ctxSales = document.getElementById('salesChart').getContext('2d');
            var salesChart = new Chart(ctxSales, {
                type: 'line',
                data: {
                    labels: data.sales.map(item => item.month),
                    datasets: [{
                        label: 'Sales',
                        data: data.sales.map(item => item.value),
                        borderColor: 'rgba(75, 192, 192, 1)',
                        fill: false,
                        datalabels: {
                            display: true,
                            color: 'black', // Set label color
                            font: {
                                size: 12, // Size of the labels
                            },
                            align: 'top', // Position the label above the data point
                            formatter: (value) => value.toLocaleString() // Format the number with commas
                        }
                    }]
                },
                options: {
                    plugins: {
                        title: {
                            display: true,
                            text: 'Sales per Month'
                        },
                        datalabels: {
                            anchor: 'end', // Position data labels relative to the point
                            clamp: true // Make sure the labels stay inside the canvas
                        }
                    }
                }
            });

            var ctxEnrollees = document.getElementById('enrolleesChart').getContext('2d');
            var enrolleesChart = new Chart(ctxEnrollees, {
                type: 'line',
                data: {
                    labels: data.enrollees.map(item => item.month),
                    datasets: [{
                        label: 'Enrollees',
                        data: data.enrollees.map(item => item.value),
                        borderColor: 'rgba(153, 102, 255, 1)',
                        fill: false,
                        datalabels: {
                            display: true,
                            color: 'black',
                            font: {
                                size: 12,
                            },
                            align: 'top',
                            formatter: (value) => value.toLocaleString() // Format numbers with commas
                        }
                    }]
                },
                options: {
                    plugins: {
                        title: {
                            display: true,
                            text: 'Enrollees per Month'
                        },
                        datalabels: {
                            anchor: 'end',
                            clamp: true
                        }
                    }
                }
            });

            var ctxServices = document.getElementById('servicesChart').getContext('2d');
            var servicesChart = new Chart(ctxServices, {
                type: 'bar',
                data: {
                    labels: data.services.map(item => item.service),
                    datasets: [{
                        label: 'Enrollees per Service',
                        data: data.services.map(item => item.enrollees),
                        backgroundColor: 'rgba(255, 159, 64, 0.2)',
                        borderColor: 'rgba(255, 159, 64, 1)',
                        borderWidth: 1,
                        datalabels: {
                            display: true,
                            color: 'black',
                            font: {
                                size: 12,
                            },
                            align: 'top',
                            formatter: (value) => value.toLocaleString()
                        }
                    }]
                },
                options: {
                    plugins: {
                        title: {
                            display: true,
                            text: 'Enrollees in Services'
                        },
                        datalabels: {
                            anchor: 'end',
                            clamp: true
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            });
        })
        .catch(error => console.log('Error fetching data:', error));
    </script>
    
    <script src="/js/utilities.js"></script>
    <script src="/js/admin/reports.js"></script>
    <script src="/js/admin/admin-sidebar.js"></script>
</body>
</html>